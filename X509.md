Create Server CA
-----------------
>Create a self signed key pair root CA certificate.
1. keytool -genkeypair -v \
  -alias localhostca \
  -dname "CN=localhostCA, OU=Localhost Org, O=Localhost Company, L=Local City, ST=FL C=US" \
  -keystore localhostca.jks \
  -keypass:env test \
  -storepass:env test \
  -keyalg RSA \
  -keysize 4096 \
  -ext KeyUsage:critical="keyCertSign" \
  -ext BasicConstraints:critical="ca:true" \
  -validity 9999

>Export the localhostCA public certificate as localhostca.crt so that it can be used in trust stores.
2. keytool -export -v \
  -alias localhostca \
  -file localhostca.crt \
  -keypass:env test \
  -storepass:env test \
  -keystore localhostca.jks \
  -rfc
  
 Create Localhost Certificate
 ----------------------------
>Create a server certificate, tied to localhost.
1. keytool -genkeypair -v \
  -alias localhost \
  -dname "CN=localhost, OU=Localhost Org O=Localhost Company L=Local City ST=FL C=US" \
  -keystore localhost.jks \
  -keypass:env test \
  -storepass:env test \
  -keyalg RSA \
  -keysize 2048 \
  -validity 385

>Create a certificate signing request for localhost
2. keytool -certreq -v \
  -alias localhost \
  -keypass:env test \
  -storepass:env test \
  -keystore localhost.jks \
  -file localhost.csr

>Tell localhostCA to sign the localhost certificate.
>Note the extension is on the request, not the original certificate. 
>Technically, keyUsage should be digitalSignature for DHE or ECDHE, keyEncipherment for RSA.
3. keytool -gencert -v \
  -alias localhostca \
  -keypass:env test \
  -storepass:env test \
  -keystore localhostca.jks \
  -infile localhost.csr \
  -outfile localhost.crt \
  -ext KeyUsage:critical="digitalSignature,keyEncipherment" \
  -ext EKU="serverAuth" \
  -ext SAN="DNS:localhost" \
  -rfc

>Tell localhost.jks it can trust localhostca as a signer.
4. keytool -import -v \
  -alias localhostca \
  -file localhostca.crt \
  -keystore localhost.jks \
  -storetype JKS \
  -storepass:env test << EOF
  yes
  EOF

>Import the signed certificate back into localhost.jks.
5. keytool -import -v \
  -alias localhost \
  -file localhost.crt \
  -keystore localhost.jks \
  -storetype JKS \
  -storepass:env test

>List the contents of localhost.jks.  
>If you are using Play/Akka-Http as a TLS termination point, this is the key store you should present as the server.
6. keytool -list -v \
  -keystore localhost.jks \
  -storepass:env test